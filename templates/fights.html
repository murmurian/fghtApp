{% extends "layout.html" %}

{% block content %}

<h1 class="text-center my-3">Fights</h1>

<h3>Most recent fights in the database:</h3>

<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">Fight</th>
      <th scope="col">Event</th>
      <th scope="col">Date</th>
    </tr>
  </thead>
  <tbody>
    {% for fight in fights %}
    <tr>
      <td>
        <a href="{{ url_for('fight_detail', fight_id = fight.id) }}">
          {% if fight.fighter1 == fight.winner %}
          {{ fight.f1_firstname }} {{ fight.f1_lastname }}
          {% else %}
          {{ fight.f2_firstname }} {{ fight.f2_lastname }}
          {% endif %}
          {% if fight.draw %}
          -
          {% else %}
          def
          {% endif %}
          {% if fight.fighter1 == fight.winner %}
          {{ fight.f2_firstname }} {{ fight.f2_lastname }}
          {% else %}
          {{ fight.f1_firstname }} {{ fight.f1_lastname }}
          {% endif %}
        </a>
      </td>
      <td>
        {% if fight.event != None %}
        <a href="{{ url_for('event_detail', event_id=fight.event) }}">{{ fight.event_name }}</a>
        {% else %}
        N/A
        {% endif %}
      </td>
      <td>{{ fight.date }}</td>
    </tr>
    {% endfor %}

  </tbody>
</table>
{% endblock %}